
// ==========================================================================
//  GPPG error listing for yacc source file <parser.y - 5/14/2017 12:53:29 AM>
// ==========================================================================
//  Version:  1.5.2
//  Machine:  TUPHAM-LAPTOP
//  DateTime: 5/14/2017 12:54:57 AM
//  UserName: Ngoc Tu Pham
// ==========================================================================


%namespace GPLexTutorial

%union
{
    public int num;
    public string name;
    public CompilationUnit compUnit;
    public TypeDeclaration typeDecl;
    public NormalClassDeclaration normclassDecl;
    public ClassModifier classModi;  
    public Identifier identi;
    public ClassBody classBodi;
    public MethodDeclaration methDecl;
	public MethodModifiers methModis;
    public MethodModifier methModi;
    public Result result;
	public BlockStatement blksta;
<<<<<<< HEAD
// Error: Syntax error, unexpected '<', expecting '}', or ident
// ------------------------------------------------------------
	public BlockStatements blkstas;
	public VariableDeclarationStatement variablestate;
=======
//^^^^^
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// ------------------------------------------------
>>>>>>> 4a6dd1e8aa142b70194d332447c4532120bf90b1
// Error: Syntax error, unexpected '>', expecting '}', or ident
// ------------------------------------------------------------
	public MethodDeclarator methodecla;
	public MethodHeader methodhea;
	public MethodBody methodbd;
	public ExpressionStatement expstm;
<<<<<<< HEAD
// Error: Syntax error, unexpected '<', expecting '}', or ident
// ------------------------------------------------------------
=======
//^^^^^
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// ------------------------------------------------
	
>>>>>>> 4a6dd1e8aa142b70194d332447c4532120bf90b1
}

%token <num> NUMBER
%token <name> IDENT 
%token PUBLIC CLASS STATIC VOID INT
%token PRIVATE PROTECTED 

%left '=' 
%nonassoc '<'
%left '+'

%type <compUnit> CompilationUnit
%type <typeDecl> TypeDeclaration 
%type <normclassDecl> NormalClassDeclaration
%type <classModi> ClassModifier
%type <identi> Identifier
%type <classBodi> ClassBody
%type <methModi> MethodModifier
%type <methModis> MethodModifiers
%type <methDecl> MethodDeclaration
%type <result> Result
%type <blksta> BlockStatement
%type <methodecla> MethodDeclarator
%type <methodhea> MethodHeader
%type <methodbd> MethodBody
<<<<<<< HEAD
//^^^^^
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// --------------------------------------
%type <blkstas> BlockStatements
%type <expstm> ExpressionStatement
=======
//^^^^^
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// ------------------------------------------------
%type <expstm> ExpressionStatement

>>>>>>> 4a6dd1e8aa142b70194d332447c4532120bf90b1
//^^^^^^^
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Bad separator character in list
// Error: Syntax error, unexpected number
// --------------------------------------

%%

CompilationUnit
	: PackageDeclaration ImportDeclarations TypeDeclaration   { $$=new CompilationUnit(null,null,$3); }
	;

empty: ;

PackageDeclaration
	: empty
	;

ImportDeclarations
	: empty
	;

TypeDeclaration
	: NormalClassDeclaration   { $$ = $1; }
	;

NormalClassDeclaration
	: ClassModifier CLASS Identifier TypeParameters '{' ClassBody '}'  {$$ = new NormalClassDeclaration($1,$3,$6);}
	;

ClassModifier
	: PUBLIC  
	;

TypeParameters
	: empty
	;

Identifier
	: IDENT  {$$ = new Identifier($1);}
	;

ClassBody
	: MethodDeclaration {$$ = new ClassBody($1);}
	| empty
	;

MethodDeclaration
    : MethodModifiers MethodHeader MethodBody	{$$ = new MethodDeclaration($1,$2,$3);}
    | empty
    ;

MethodModifiers
<<<<<<< HEAD
// Error: Syntax error, unexpected '<', expecting ':'
// --------------------------------------------------
	: MethodModifiers MethodModifier			{$$ = new MethodModifiers($2);}
=======
//^^^^^
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// ------------------------------------------------
	: MethodModifiers MethodModifier			
>>>>>>> 4a6dd1e8aa142b70194d332447c4532120bf90b1
//-----^^
// Error: This character is invalid in this context
// ------------------------------------------------
	| empty
	;

MethodModifier
    : PUBLIC 
	| STATIC
<<<<<<< HEAD
    | empty
=======
// Error: This character is invalid in this context
// Error: This character is invalid in this context
// Error: Too many errors, abandoning
// Error: This character is invalid in this context
// ------------------------------------------------
>>>>>>> 4a6dd1e8aa142b70194d332447c4532120bf90b1
    ;

MethodHeader
    : Result MethodDeclarator       {$$ = new MethodHeader($1,$2);}
    ;

Result
    : VOID
    ;

MethodDeclarator
<<<<<<< HEAD
    :Identifier '(' FormalParameterList ')'  {$$ = new MethodDeclarator($1,null);}
    | empty
=======
    : Identifier '(' FormalParameterList ')'  {$$ = new MethodDeclarator($1,null);}
>>>>>>> 4a6dd1e8aa142b70194d332447c4532120bf90b1
    ;

FormalParameterList
    : FormalParameterList FormalParameter    
    | empty
    ;

FormalParameter
    : VariableModifiers UnannType VariableDeclaratorId 
    ;

MethodBody 
	: Block
	;

Block
    : '{' BlockStatements '}'   {$$ = new MethodBody($2);} 
    ;

BlockStatements
	: BlockStatements BlockStatement
	| empty
	;

BlockStatement
	: LocalVariableDeclarationStatement
	| Statement
	;

LocalVariableDeclarationStatement
	: LocalVariableDeclaration ';'
	;

LocalVariableDeclaration
	: VariableModifiers UnannType VariableDeclarationList
	;

VariableModifiers
	: VariableModifier VariableModifiers
	| empty
	;

VariableModifier
	: empty
	;
UnannType
	: UnannPrimitiveType
	| UnannReferenceType
	;
UnannReferenceType
	: UnannArrayType
	;
UnannArrayType
	: UnannPrimitiveType '[' ']'
	;
UnannPrimitiveType
	: NumericType
	;
NumericType
	: IntegralType
	;
IntegralType
	: INT
	| IDENT
	;
VariableDeclarationList
	: VariableDeclarator
	;
VariableDeclarator
	: VariableDeclaratorId
	;
VariableDeclaratorId
	: IDENT
	;
Statement
	: StatementWithoutTrailingSubstatement
	;
StatementWithoutTrailingSubstatement
	: ExpressionStatement
	;
ExpressionStatement
	: StatementExpression ';'
	;
StatementExpression
	: Assignment
	;
Assignment
	: LeftHandSide AssignmentOperator Expression
	;
LeftHandSide
	: ExpressionName
	;
ExpressionName
	: IDENT
	;
AssignmentOperator
	: '='
	;
Expression
	: AssignmentExpression
	;
AssignmentExpression
	: ConditionalExpression
	;
ConditionalExpression
	: ConditionalOrExpression
	;
ConditionalOrExpression
	: ConditionalAndExpression
	;
ConditionalAndExpression
	: InclusiveOrExpression
	;
InclusiveOrExpression
	: ExclusiveOrExpression
	;
ExclusiveOrExpression
	: AndExpression
	;
AndExpression
	: EqualityExpression
	;
EqualityExpression
	: RelationalExpression
	;
RelationalExpression
	: ShiftExpression
	;
ShiftExpression
	: AdditiveExpression
	;
AdditiveExpression
	: MultiplicativeExpression
	;
MultiplicativeExpression
	: UnaryExpression
	;
UnaryExpression
	: UnaryExpressionNotPlusMinus
	;
UnaryExpressionNotPlusMinus
	: PostfixExpression
	;
PostfixExpression
	: Primary
	;
Primary
	: PrimaryNoNewArray
	;
PrimaryNoNewArray
	: Literal
	;
Literal
	: IntegerLiteral
	;
IntegerLiteral
	: NUMBER
	;

%%

public Parser(Scanner scanner) : base(scanner)
{

}
// ==========================================================================

